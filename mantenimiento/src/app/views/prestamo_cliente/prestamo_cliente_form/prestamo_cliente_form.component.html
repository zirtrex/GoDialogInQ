<div class="">
  <mat-card>
    <mat-card-title>Escribir a {{ textForm }}</mat-card-title>
    <mat-card-content>      
      <form novalidate class="form-horizontal" (ngSubmit)="enviarMensaje(mensajeForm.value)" [formGroup]='mensajeForm'>

          <input type="hidden" formControlName="idPrestamoCliente" />
          <mat-error *ngIf="mensajeForm.get('idPrestamoCliente').hasError('required')">
            Ha ocurrido un error inesperado.
          </mat-error>

          <mat-form-field>
            <textarea type="text" matInput formControlName="mensaje" placeholder="Mensaje" cdkAutosizeMaxRows="5"></textarea>
            
            <mat-error *ngIf="mensajeForm.get('mensaje').hasError('required')">
              El campo es obligatorio
            </mat-error>

            <mat-error *ngIf="mensajeForm.get('mensaje').hasError('pattern')">
              Solo se aceptan textos y n√∫meros.
            </mat-error>
          </mat-form-field>

          <button type="submit" mat-raised-button color="primary" [disabled]="mensajeForm.invalid">
            <mat-icon>chat</mat-icon>Enviar
          </button>
          &nbsp;
          <button mat-raised-button (click)="closeDialog()" mat-dialog-close>Cancelar</button>          
          
      </form>      
    </mat-card-content>
  </mat-card>
</div>

